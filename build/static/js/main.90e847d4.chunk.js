(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{48:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a(19),c=a.n(s),r=(a(47),a(48),a(9)),i=a(25),o=a(35),l=a(36),d="USER_LOGIN_REQUEST",j="USER_LOGIN_SUCCESS",u="USER_LOGIN_FAIL",b="USER_DETAILS_RESET",h="USER_REGISTER_REQUEST",p="USER_REGISTER_SUCCESS",x="USER_REGISTER_FAIL",O="USER_REGISTER_RESET",m="ADMIN_REGISTER_REQUEST",g="ADMIN_REGISTER_SUCCESS",f="ADMIN_REGISTER_FAIL",v="ADMIN_REGISTER_RESET",N="ADMIN_GET_USERS_REQUEST",y="ADMIN_GET_USERS_SUCCESS",E="ADMIN_GET_USERS_FAIL",S="ADMIN_GET_USER_DETAILS_REQUEST",w="ADMIN_GET_USER_DETAILS_SUCCESS",C="ADMIN_GET_USER_DETAILS_FAIL",R="ADMIN_GET_ADMINS_REQUEST",I="ADMIN_GET_ADMINS_SUCCESS",T="ADMIN_GET_ADMINS_FAIL",k="ADMIN_DELETE_REQUEST",P="ADMIN_DELETE_SUCCESS",A="ADMIN_DELETE_RESET",D="ADMIN_DELETE_FAIL",_="USER_DELETE_REQUEST",U="USER_DELETE_SUCCESS",L="USER_DELETE_RESET",M="USER_DELETE_FAIL",G=Object(i.combineReducers)({SingleUserReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return{loading:!0};case w:return{loading:!1,user:t.payload};case C:return{loading:!1,error:t.payload};default:return e}},UserLoginReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return{loading:!0};case j:return{loading:!1,success:!0,userDetails:t.payload};case u:return{loading:!1,error:t.payload};case b:return{};default:return e}},UserRegisterReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return{loading:!0};case p:return{loading:!1,success:!0,userDetails:t.payload};case x:return{loading:!1,error:t.payload};case O:return{};default:return e}},AdminRegisterReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return{loading:!0};case g:return{loading:!1,success:!0,userDetails:t.payload};case f:return{loading:!1,error:t.payload};case v:return{};default:return e}},GetUsersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return{loading:!0};case y:return{loading:!1,users:t.payload};case E:return{loading:!1,error:t.payload};default:return e}},DeleteUserReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return{loading:!0};case U:return{loading:!1,success:!0};case M:return{loading:!1,error:t.payload};case L:return{};default:return e}},GetAdminsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{admins:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return{loading:!0};case I:return{loading:!1,admins:t.payload};case T:return{loading:!1,error:t.payload};default:return e}},DeleteAdminReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return{loading:!0};case P:return{loading:!1,success:!0};case D:return{loading:!1,error:t.payload};case A:return{};default:return e}}}),F={UserLoginReducer:{userDetails:localStorage.getItem("userDetails")?JSON.parse(localStorage.getItem("userDetails")):null}},q=[o.a],B=Object(i.createStore)(G,F,Object(l.composeWithDevTools)(i.applyMiddleware.apply(void 0,q))),J=a(21),Q=a(10),V=a(5),Y=a(12),z=a.n(Y),X=a(17);var W=function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var a=document.cookie.split(";"),n=0;n<a.length;n++){var s=a[n].trim();if(s.substring(0,e.length+1)===e+"="){t=decodeURIComponent(s.substring(e.length+1));break}}return t}("csrftoken"),K=function(){return function(){var e=Object(X.a)(z.a.mark((function e(t,a){var n,s,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:N}),"https://customer-care-platform.herokuapp.com/users/",n=a().UserLoginReducer.userDetails,e.next=6,fetch("https://customer-care-platform.herokuapp.com/users/",{method:"GET",headers:{"Content-type":"application/json","x-auth-token":"".concat(n.token)}});case 6:return s=e.sent,e.next=9,s.json();case 9:if(c=e.sent,s.ok){e.next=12;break}throw new Error(c.message?c.message:"Unable to fetch data!");case 12:t({type:y,payload:c}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),t({type:E,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,a){return e.apply(this,arguments)}}()},Z=function(){return function(){var e=Object(X.a)(z.a.mark((function e(t,a){var n,s,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:R}),"https://customer-care-platform.herokuapp.com/admins/",n=a().UserLoginReducer.userDetails,e.next=6,fetch("https://customer-care-platform.herokuapp.com/admins/",{method:"GET",headers:{"Content-type":"application/json","x-auth-token":"".concat(n.token)}});case 6:return s=e.sent,e.next=9,s.json();case 9:if(c=e.sent,s.ok){e.next=12;break}throw new Error(c.message?c.message:"Unable to fetch data!");case 12:t({type:I,payload:c}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),t({type:T,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,a){return e.apply(this,arguments)}}()},H=function(e){return function(){var t=Object(X.a)(z.a.mark((function t(a,n){var s,c,r,i;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:k}),s="https://customer-care-platform.herokuapp.com/admins/delete/".concat(e),c=n().UserLoginReducer.userDetails,t.next=6,fetch(s,{method:"DELETE",headers:{"Content-type":"application/json","x-auth-token":"".concat(c.token)}});case 6:return r=t.sent,t.next=9,r.json();case 9:if(i=t.sent,r.ok){t.next=12;break}throw new Error(i.message?i.message:"Something went wrong!");case 12:a({type:P,payload:i}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),a({type:D,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e,a){return t.apply(this,arguments)}}()},$=function(){return function(){var e=Object(X.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:b}),t({type:O}),localStorage.removeItem("userDetails");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ee=a(1),te=function(e){var t=e.children,a=Object(Q.e)(),n=Object(r.b)(),s=function(e){a.push(e)};return Object(ee.jsxs)("div",{className:"adminComponent",children:[Object(ee.jsxs)("div",{className:"adminSideBar",children:[Object(ee.jsx)("div",{className:"admin-title",style:{cursor:"pointer"},onClick:function(){return s("/admin")},children:Object(ee.jsxs)("h3",{className:"font-weight-bold text-center text-white",children:[Object(ee.jsx)(V.l,{})," SAWPORT.INC"]})}),Object(ee.jsxs)("div",{className:"activities",children:[Object(ee.jsx)("div",{className:"activityItem",onClick:function(){return s("/admin/profiles")},children:Object(ee.jsxs)("h6",{className:"activity-text font-weight-bold",children:[Object(ee.jsxs)("span",{children:[Object(ee.jsx)(V.p,{})," Manage Profiles"]}),Object(ee.jsx)("span",{children:Object(ee.jsx)(V.d,{})})]})}),Object(ee.jsx)("div",{className:"activityItem",onClick:function(){return window.alert("No Available Alerts Admin!")},children:Object(ee.jsxs)("h6",{className:"activity-text font-weight-bold",children:[Object(ee.jsxs)("span",{children:[Object(ee.jsx)(V.b,{})," Alerts"]}),Object(ee.jsx)("span",{children:Object(ee.jsx)(V.d,{})})]})}),Object(ee.jsx)("div",{className:"activityItem",onClick:function(){return window.alert("API Error, Please contact your developer!")},children:Object(ee.jsxs)("h6",{className:"activity-text font-weight-bold",children:[Object(ee.jsxs)("span",{children:[Object(ee.jsx)(V.r,{})," Edit Profile"]}),Object(ee.jsx)("span",{children:Object(ee.jsx)(V.d,{})})]})}),Object(ee.jsx)("div",{className:"activityItem",onClick:function(){return s("/admin/new/sign_up")},children:Object(ee.jsxs)("h6",{className:"activity-text font-weight-bold",children:[Object(ee.jsxs)("span",{children:[Object(ee.jsx)(V.s,{})," Add Admin"]}),Object(ee.jsx)("span",{children:Object(ee.jsx)(V.d,{})})]})}),Object(ee.jsx)("div",{className:"activityItem",onClick:function(){return window.alert("No Available Complaints Admin!")},children:Object(ee.jsxs)("h6",{className:"activity-text font-weight-bold",children:[Object(ee.jsxs)("span",{children:[Object(ee.jsx)(V.f,{})," Complaints"]}),Object(ee.jsx)("span",{children:Object(ee.jsx)(V.d,{})})]})}),Object(ee.jsx)("div",{className:"activityItem",onClick:function(){window.confirm("Are you Sure you want to Logout?")&&(n($()),a.push("/"))},children:Object(ee.jsxs)("h6",{className:"activity-text font-weight-bold",children:[Object(ee.jsxs)("span",{children:[Object(ee.jsx)(V.k,{})," Sign Out"]}),Object(ee.jsx)("span",{children:Object(ee.jsx)(V.d,{})})]})}),Object(ee.jsx)("div",{className:"activityItem",onClick:function(){return s("/admin/delete")},children:Object(ee.jsxs)("h6",{className:"activity-text text-warning font-weight-bold",children:[Object(ee.jsxs)("span",{children:[Object(ee.jsx)(V.n,{})," Delete Account"]}),Object(ee.jsx)("span",{children:Object(ee.jsx)(V.d,{})})]})})]})]}),Object(ee.jsxs)("div",{className:"adminMainScreen",children:[Object(ee.jsxs)("div",{className:"mainScreenTop shadow-sm",children:[Object(ee.jsx)("h3",{className:"tint font-weight-bold",children:" CUSTOMER CARE PLATFORM "}),Object(ee.jsxs)("div",{className:"flexNav",children:[Object(ee.jsx)("div",{className:"flex-circle mx-2",children:Object(ee.jsx)(V.h,{className:"text-success"})}),Object(ee.jsx)("div",{className:"flex-circle mx-2",children:Object(ee.jsx)(V.j,{className:"tint"})}),Object(ee.jsx)("div",{className:"flex-circle mx-2",children:Object(ee.jsx)(V.b,{className:"text-danger"})}),Object(ee.jsx)("div",{className:"flex-circle mx-2",children:Object(ee.jsx)(V.p,{className:"tint"})})]})]}),Object(ee.jsx)("div",{className:"p-4",children:t})]})]})},ae=function(e){var t=e.history,a=Object(r.b)(),s=Object(r.c)((function(e){return e.GetUsersReducer})).users,c=s?s.data:null,i=Object(r.c)((function(e){return e.GetAdminsReducer})).admins,o=i?i.data:null,l=Object(r.c)((function(e){return e.UserLoginReducer})).userDetails;return Object(n.useEffect)((function(){l||t.push("/"),a(K()),a(Z())}),[a,t,l]),Object(ee.jsx)(te,{children:Object(ee.jsxs)("div",{className:"dashboardGrid",children:[Object(ee.jsxs)("div",{className:"dashItemCard",children:[Object(ee.jsx)("div",{className:"dashTop",children:Object(ee.jsx)("h5",{className:"font-weight-bold tint text-center",children:"REGISTERED USERS"})}),Object(ee.jsx)("div",{className:"font-weight-bold dashBottom",children:Object(ee.jsxs)("h1",{className:"font-weight-bold tint opacity text-center",children:[o&&c?o.length+c.length:0," "]})})]}),Object(ee.jsxs)("div",{className:"dashItemCard",children:[Object(ee.jsx)("div",{className:"dashTop",children:Object(ee.jsx)("h5",{className:"font-weight-bold tint text-center",children:"ADMIN PROFILES"})}),Object(ee.jsx)("div",{className:"font-weight-bold dashBottom",children:Object(ee.jsx)("h1",{className:"font-weight-bold tint opacity text-center",children:o?o.length:0})})]}),Object(ee.jsxs)("div",{className:"dashItemCard",children:[Object(ee.jsx)("div",{className:"dashTop",children:Object(ee.jsx)("h5",{className:"font-weight-bold tint text-center",children:"USER PROFILES"})}),Object(ee.jsx)("div",{className:"font-weight-bold dashBottom",children:Object(ee.jsxs)("h1",{className:"font-weight-bold tint opacity text-center",children:[c?c.length:0," "]})})]})]})})},ne=a(8),se=a(64),ce=a(39),re=function(e){var t=e.variant,a=e.children;return Object(ee.jsxs)(se.a,{className:"font-weight-bold",variant:t,children:["danger"===t&&Object(ee.jsx)(ce.a,{className:"mr-3"}),a]})},ie=a(59),oe=function(e){var t=e.height,a=void 0===t?"50px":t,n=e.width,s=void 0===n?"50px":n;return Object(ee.jsx)(ie.a,{role:"status",animation:"grow",style:{height:{height:a},width:{width:s},backgroundColor:"rgb(50, 5, 77)",margin:"5px auto",display:"block"}})},le=a(65),de=a(60),je=a(40),ue=a(61),be=function(e){var t=e.history,a=Object(n.useState)(""),s=Object(ne.a)(a,2),c=s[0],i=s[1],o=Object(n.useState)(""),l=Object(ne.a)(o,2),d=l[0],j=l[1],u=Object(r.b)(),b=Object(r.c)((function(e){return e.UserLoginReducer})).userDetails,h=Object(r.c)((function(e){return e.DeleteAdminReducer})),p=h.loading,x=h.error,O=h.success;return Object(n.useEffect)((function(){b||t.push("/"),O&&(u($()),u({type:A}))}),[u,t,b,O]),Object(ee.jsxs)(te,{children:[Object(ee.jsx)(re,{variant:"danger",children:Object(ee.jsxs)("b",{children:["This action cannot be reversed!! Type"," ",Object(ee.jsx)("span",{className:"text-dark",children:'"Delete my AccOUnt"'})," to confirm this Action."]})}),x&&Object(ee.jsx)(re,{variant:"danger",children:x}),d&&Object(ee.jsx)(re,{variant:"danger",children:d}),p&&Object(ee.jsx)(oe,{}),Object(ee.jsx)("div",{className:"changePassRow",children:Object(ee.jsxs)(le.a,{className:"changePass",onSubmit:function(e){e.preventDefault(),"Delete my AccOUnt"===c?u(H("61315392d38e43007e4aa3ee")):j("Confirmation text does not match!")},children:[Object(ee.jsxs)(de.a,{className:"mb-3 loginInputPass",children:[Object(ee.jsx)(de.a.Prepend,{className:"inputPrep",children:Object(ee.jsx)(de.a.Text,{id:"basic-addon1",children:Object(ee.jsx)(V.g,{className:"text-danger"})})}),Object(ee.jsx)(je.a,{type:"text","aria-label":"text","aria-describedby":"basic-addon1",className:"text-danger",required:!0,value:c,onChange:function(e){return i(e.target.value)}})]}),Object(ee.jsx)("div",{className:"loginBtnContainer",children:Object(ee.jsx)(ue.a,{type:"submit",className:"font-weight-bold btn-danger btn-block",rounded:"true",children:"Delete"})})]})})]})},he=a(62),pe=a(41),xe=a(23),Oe=function(e){var t=e.history,a=Object(r.b)(),s=Object(n.useState)(""),c=Object(ne.a)(s,2),i=c[0],o=c[1],l=Object(n.useState)(""),d=Object(ne.a)(l,2),j=d[0],u=d[1],b=Object(n.useState)(""),h=Object(ne.a)(b,2),p=h[0],x=h[1],O=Object(n.useState)(""),N=Object(ne.a)(O,2),y=N[0],E=N[1],S=Object(n.useState)(""),w=Object(ne.a)(S,2),C=w[0],R=w[1],I=Object(n.useState)(""),T=Object(ne.a)(I,2),k=T[0],P=T[1],A=Object(n.useState)(""),D=Object(ne.a)(A,2),_=D[0],U=D[1],L=Object(n.useState)(""),M=Object(ne.a)(L,2),G=M[0],F=M[1],q=Object(n.useState)(""),B=Object(ne.a)(q,2),J=B[0],Q=B[1],Y=Object(r.c)((function(e){return e.UserLoginReducer})).userDetails,K=Object(r.c)((function(e){return e.AdminRegisterReducer})),Z=K.loading,H=K.error,$=K.success;return Object(n.useEffect)((function(){Y||t.push("/"),$&&(a({type:v}),t.push("/admin"))}),[a,t,Y,$]),Object(ee.jsx)(te,{children:Object(ee.jsx)("div",{className:"changePassRow",children:Object(ee.jsxs)(le.a,{className:"loginForm",autoComplete:"off",onSubmit:function(e){var t;e.preventDefault(),_!==G?Q("Password and Confirm Password Do Not Match!"):"sex"===y?Q("Gender is not Valid"):a((t={fullName:i+" "+j,email:k,phone:C,password:_,sex:y,age:p},function(){var e=Object(X.a)(z.a.mark((function e(a){var n,s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:m}),e.next=5,fetch("https://customer-care-platform.herokuapp.com/admins/signup",{method:"POST",headers:{"Content-type":"application/json","X-CSRFToken":W},body:JSON.stringify(t)});case 5:return n=e.sent,e.next=8,n.json();case 8:if(s=e.sent,n.ok){e.next=11;break}throw new Error(s.message?s.message:"Request could not be processed!");case 11:a({type:g,payload:s}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),a({type:f,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()))},children:[" ",Object(ee.jsx)("h3",{className:"text-center font-weight-bold loginText",children:"CREATE ADMIN USER"}),H&&Object(ee.jsx)(re,{variant:"danger",children:H}),J&&Object(ee.jsx)(re,{variant:"danger",children:J}),Z&&Object(ee.jsx)(oe,{}),Object(ee.jsxs)(he.a,{className:"loginInput",children:[Object(ee.jsx)(pe.a,{md:6,children:Object(ee.jsxs)(de.a,{children:[Object(ee.jsx)(de.a.Prepend,{className:"inputPrep",children:Object(ee.jsx)(de.a.Text,{id:"basic-addon1",children:Object(ee.jsx)(V.o,{})})}),Object(ee.jsx)(je.a,{type:"text",placeholder:"First Name...","aria-label":"FirstName","aria-describedby":"basic-addon1",required:!0,value:i,onChange:function(e){return o(e.target.value)}})]})}),Object(ee.jsx)(pe.a,{md:6,children:Object(ee.jsxs)(de.a,{children:[Object(ee.jsx)(de.a.Prepend,{className:"inputPrep",children:Object(ee.jsx)(de.a.Text,{id:"basic-addon1",children:Object(ee.jsx)(V.o,{})})}),Object(ee.jsx)(je.a,{type:"text",placeholder:"Last Name...","aria-label":"LastName","aria-describedby":"basic-addon1",required:!0,value:j,onChange:function(e){return u(e.target.value)}})]})})]}),Object(ee.jsxs)(he.a,{className:"loginInput",children:[Object(ee.jsx)(pe.a,{md:6,children:Object(ee.jsxs)(de.a,{children:[Object(ee.jsx)(de.a.Prepend,{className:"inputPrep",children:Object(ee.jsx)(de.a.Text,{id:"basic-addon1",children:Object(ee.jsx)(V.q,{})})}),Object(ee.jsx)(je.a,{type:"number",placeholder:"Age...","aria-label":"Age","aria-describedby":"basic-addon1",required:!0,autoComplete:"off",value:p,onChange:function(e){return x(e.target.value)}})]})}),Object(ee.jsx)(pe.a,{md:6,children:Object(ee.jsxs)(de.a,{children:[Object(ee.jsx)(de.a.Prepend,{className:"inputPrep",children:Object(ee.jsx)(de.a.Text,{id:"basic-addon1",children:Object(ee.jsx)(xe.a,{})})}),Object(ee.jsxs)(le.a.Control,{as:"select",value:y,onChange:function(e){return E(e.target.value)},children:[Object(ee.jsx)("option",{value:"sex",defaultValue:!0,children:"Sex"}),Object(ee.jsx)("option",{value:"male",children:"Male"}),Object(ee.jsx)("option",{value:"female",children:"Female"})]})]})})]}),Object(ee.jsxs)(de.a,{className:"loginInput ixap",children:[Object(ee.jsx)(de.a.Prepend,{className:"inputPrep",children:Object(ee.jsx)(de.a.Text,{id:"basic-addon1",children:Object(ee.jsx)(V.i,{})})}),Object(ee.jsx)(je.a,{type:"text",placeholder:"Phone Number..","aria-label":"Number",autoComplete:"off","aria-describedby":"basic-addon1",required:!0,value:C,onChange:function(e){return R(e.target.value)}})]}),Object(ee.jsxs)(de.a,{className:"loginInput ixap",children:[Object(ee.jsx)(de.a.Prepend,{className:"inputPrep",children:Object(ee.jsx)(de.a.Text,{id:"basic-addon1",children:Object(ee.jsx)(V.a,{})})}),Object(ee.jsx)(je.a,{type:"text",placeholder:"Email...","aria-label":"Email",autoComplete:"off","aria-describedby":"basic-addon1",required:!0,value:k,onChange:function(e){return P(e.target.value)}})]}),Object(ee.jsxs)(de.a,{className:"mb-1 loginInputPass",children:[Object(ee.jsx)(de.a.Prepend,{className:"inputPrep",children:Object(ee.jsx)(de.a.Text,{id:"basic-addon1",children:Object(ee.jsx)(V.g,{})})}),Object(ee.jsx)(je.a,{autoComplete:"off",type:"password",placeholder:"Password...","aria-label":"Password","aria-describedby":"basic-addon1",required:!0,value:_,onChange:function(e){return U(e.target.value)}})]}),Object(ee.jsxs)(de.a,{className:"mb-1 loginInputPass",children:[Object(ee.jsx)(de.a.Prepend,{className:"inputPrep",children:Object(ee.jsx)(de.a.Text,{id:"basic-addon1",children:Object(ee.jsx)(V.g,{})})}),Object(ee.jsx)(je.a,{autoComplete:"off",type:"password",placeholder:"Confirm Password...","aria-label":"CPassword","aria-describedby":"basic-addon1",required:!0,value:G,onChange:function(e){return F(e.target.value)}})]}),Object(ee.jsx)("div",{className:"loginBtnContainer",children:Object(ee.jsx)(ue.a,{type:"submit",className:"font-weight-bold loginBtn btn-block",rounded:"true",children:"Submit"})})]})})})},me=a(63),ge=function(e){var t=e.history,a=Object(r.b)(),s=Object(n.useState)(""),c=Object(ne.a)(s,2),i=c[0],o=c[1],l=Object(r.c)((function(e){return e.UserLoginReducer})).userDetails,d=Object(r.c)((function(e){return e.GetUsersReducer})).users,j=d?d.data:null,u=Object(r.c)((function(e){return e.GetAdminsReducer})).admins,b=u?u.data:null,h=Object(r.c)((function(e){return e.DeleteAdminReducer})),p=h.loading,x=h.error,O=h.success,m=Object(r.c)((function(e){return e.DeleteUserReducer})),g=m.loading,f=m.error,v=m.success,N=function(e){window.confirm("Are you Sure you want to Delete this user?")&&a(function(e){return function(){var t=Object(X.a)(z.a.mark((function t(a,n){var s,c,r,i;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:_}),s="https://customer-care-platform.herokuapp.com/users/delete/".concat(e),c=n().UserLoginReducer.userDetails,t.next=6,fetch(s,{method:"DELETE",headers:{"Content-type":"application/json","x-auth-token":"".concat(c.token)}});case 6:return r=t.sent,t.next=9,r.json();case 9:if(i=t.sent,r.ok){t.next=12;break}throw new Error(i.message?i.message:"Something went wrong!");case 12:a({type:U,payload:i}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),a({type:M,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e,a){return t.apply(this,arguments)}}()}(e))};return Object(n.useEffect)((function(){l||t.push("/"),O&&a({type:A}),v&&a({type:L}),a(K()),a(Z())}),[a,t,l,O,v]),Object(ee.jsx)(te,{children:Object(ee.jsxs)("div",{className:"AdminRow",children:[x&&Object(ee.jsx)(re,{variant:"danger",children:x}),i&&Object(ee.jsx)(re,{variant:"danger",children:i}),p&&Object(ee.jsx)(oe,{}),f&&Object(ee.jsx)(re,{variant:"danger",children:f}),g&&Object(ee.jsx)(oe,{}),Object(ee.jsxs)(me.a,{striped:!0,responsive:!0,bordered:!0,hover:!0,className:"table-sm",children:[Object(ee.jsx)("thead",{children:Object(ee.jsxs)("tr",{children:[Object(ee.jsx)("th",{children:"ID"}),Object(ee.jsx)("th",{children:"NAME"}),Object(ee.jsx)("th",{children:"EMAIL"}),Object(ee.jsx)("th",{children:"ADMIN"}),Object(ee.jsx)("th",{children:"ACTIONS"})]})}),Object(ee.jsxs)("tbody",{children:[j&&j.map((function(e){return Object(ee.jsxs)("tr",{children:[Object(ee.jsx)("td",{children:e._id}),Object(ee.jsx)("td",{children:e.fullName}),Object(ee.jsx)("td",{children:e.email}),Object(ee.jsx)("td",{children:Object(ee.jsx)(V.m,{className:"text-danger"})}),Object(ee.jsxs)("td",{children:[Object(ee.jsx)(ue.a,{variant:"light",className:"btn-sm  mrr-3",onClick:function(){return a=e._id,void t.push("/admin/user/edit_user/".concat(a));var a},children:Object(ee.jsx)(V.e,{})}),Object(ee.jsx)(ue.a,{variant:"danger",className:"btn-sm",onClick:function(){return N(e._id)},children:Object(ee.jsx)(V.n,{})})]})]},e._id)})),b&&b.map((function(e){return Object(ee.jsxs)("tr",{children:[Object(ee.jsx)("td",{children:e._id}),Object(ee.jsx)("td",{children:e.email}),Object(ee.jsx)("td",{children:e.email}),Object(ee.jsx)("td",{children:Object(ee.jsx)(V.c,{className:"text-success"})}),Object(ee.jsxs)("td",{children:[Object(ee.jsx)(ue.a,{variant:"light",className:"btn-sm mrr-3",onClick:function(){return window.alert("Invalid Api Route for this Action!")},children:Object(ee.jsx)(V.e,{})}),Object(ee.jsx)(ue.a,{variant:"danger",className:"btn-sm ml-2",onClick:function(){return t=e._id,void(window.confirm("Are you Sure you want to Delete this Admin user?")&&("614de1bc6389b2007e9c3dae"===t?o("This user can't be deleted"):a(H(t))));var t},children:Object(ee.jsx)(V.n,{})})]})]},e._id)}))]})]})]})})},fe=function(e){var t=e.history,a=Object(n.useState)(""),s=Object(ne.a)(a,2),c=s[0],i=s[1],o=Object(n.useState)(""),l=Object(ne.a)(o,2),b=l[0],h=l[1],p=Object(n.useState)(!1),x=Object(ne.a)(p,2),O=x[0],m=x[1],g=Object(r.b)(),f=Object(r.c)((function(e){return e.UserLoginReducer})),v=f.loading,N=f.error,y=f.userDetails,E=f.success;Object(n.useEffect)((function(){(y||E)&&t.push("/admin")}),[y,E,t]);return Object(ee.jsx)("div",{className:"myContainer",children:Object(ee.jsx)("div",{className:"loginCard",children:Object(ee.jsxs)(le.a,{className:"loginForm",autoComplete:"off",onSubmit:function(e){var t,a;e.preventDefault(),g((t={email:c,password:b},a=O,function(){var e=Object(X.a)(z.a.mark((function e(n){var s,c,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:d}),s=a?"https://customer-care-platform.herokuapp.com/admins/login":"https://customer-care-platform.herokuapp.com/users/login",e.next=5,fetch(s,{method:"POST",headers:{"Content-type":"application/json","X-CSRFToken":W,"x-auth-token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MTRkZTFiYzYzODliMjAwN2U5YzNkYWUiLCJpYXQiOjE2MzI0OTQwMTIsImV4cCI6MTYzMjU4MDQxMn0.jT22JVaj_s8ivlqxc334_rAwRCJBQ1INq0Q7KYIvLeg"},body:JSON.stringify({email:t.email,password:t.password})});case 5:return c=e.sent,e.next=8,c.json();case 8:if(r=e.sent,c.ok){e.next=11;break}throw new Error(r.message?r.message:"Email or Password is Incorrect");case 11:n({type:j,payload:r}),localStorage.setItem("userDetails",JSON.stringify(r)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),n({type:u,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(ee.jsx)("h3",{className:"text-center font-weight-bold loginText",children:"Login!"}),N&&Object(ee.jsx)(re,{variant:"danger",children:N}),v&&Object(ee.jsx)(oe,{}),Object(ee.jsxs)(de.a,{className:"loginInput",children:[Object(ee.jsx)(de.a.Prepend,{className:"inputPrep",children:Object(ee.jsx)(de.a.Text,{id:"basic-addon1",children:Object(ee.jsx)(V.o,{})})}),Object(ee.jsx)(je.a,{type:"text",placeholder:"Email...","aria-label":"Email",autoComplete:"off","aria-describedby":"basic-addon1",required:!0,value:c,onChange:function(e){return i(e.target.value)}})]}),Object(ee.jsxs)(de.a,{className:"mb-3 loginInputPass",children:[Object(ee.jsx)(de.a.Prepend,{className:"inputPrep",children:Object(ee.jsx)(de.a.Text,{id:"basic-addon1",children:Object(ee.jsx)(V.g,{})})}),Object(ee.jsx)(je.a,{autoComplete:"off",type:"password",placeholder:"Password...","aria-label":"Password","aria-describedby":"basic-addon1",required:!0,value:b,onChange:function(e){return h(e.target.value)}})]}),Object(ee.jsx)(le.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:Object(ee.jsx)(le.a.Check,{type:"checkbox",checked:O,onChange:function(e){return m(e.target.checked)},label:"Admin"})}),Object(ee.jsx)("div",{className:"loginBtnContainer",children:Object(ee.jsx)(ue.a,{type:"submit",className:"font-weight-bold loginBtn btn-block",rounded:"true",children:"Submit"})}),Object(ee.jsxs)("h6",{className:"mt-4 text-center font-weight-bold loginText",children:["Don't have an Account?"," ",Object(ee.jsx)(J.b,{to:"/register",className:"ml-2",children:"Register"})]})]})})})},ve=function(e){var t=e.history,a=Object(r.b)(),s=Object(n.useState)(""),c=Object(ne.a)(s,2),i=c[0],o=c[1],l=Object(n.useState)(""),d=Object(ne.a)(l,2),u=d[0],b=d[1],O=Object(n.useState)(""),m=Object(ne.a)(O,2),g=m[0],f=m[1],v=Object(n.useState)(""),N=Object(ne.a)(v,2),y=N[0],E=N[1],S=Object(n.useState)(""),w=Object(ne.a)(S,2),C=w[0],R=w[1],I=Object(n.useState)(""),T=Object(ne.a)(I,2),k=T[0],P=T[1],A=Object(n.useState)(""),D=Object(ne.a)(A,2),_=D[0],U=D[1],L=Object(n.useState)(""),M=Object(ne.a)(L,2),G=M[0],F=M[1],q=Object(n.useState)(""),B=Object(ne.a)(q,2),Q=B[0],Y=B[1],K=Object(r.c)((function(e){return e.UserRegisterReducer})),Z=K.loading,H=K.error,$=K.success,te=Object(r.c)((function(e){return e.UserLoginReducer})).userDetails;Object(n.useEffect)((function(){(te||$)&&t.push("/admin")}),[te,$,t]);return Object(ee.jsxs)("div",{className:"myContainer",children:[" ",Object(ee.jsx)("div",{className:"loginCard",children:Object(ee.jsxs)(le.a,{className:"loginForm",autoComplete:"off",onSubmit:function(e){var t;e.preventDefault(),_!==G?Y("Password and Confirm Password Do Not Match!"):"sex"===y?Y("Gender is not Valid"):a((t={fullName:i+" "+u,email:k,phone:C,password:_,sex:y,age:g,isAdmin:!1},function(){var e=Object(X.a)(z.a.mark((function e(a){var n,s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:h}),e.next=5,fetch("https://customer-care-platform.herokuapp.com/users/signup",{method:"POST",headers:{"Content-type":"application/json","X-CSRFToken":W},body:JSON.stringify(t)});case 5:return n=e.sent,e.next=8,n.json();case 8:if(s=e.sent,n.ok){e.next=11;break}throw new Error(s.message?s.message:"Request could not be processed!");case 11:a({type:p,payload:s}),a({type:j,payload:s}),localStorage.setItem("userDetails",JSON.stringify(s)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),a({type:x,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(ee.jsx)("h3",{className:"text-center font-weight-bold loginText",children:"Register!"}),H&&Object(ee.jsx)(re,{variant:"danger",children:H}),Q&&Object(ee.jsx)(re,{variant:"danger",children:Q}),Z&&Object(ee.jsx)(oe,{}),Object(ee.jsxs)(he.a,{className:"loginInput",children:[Object(ee.jsx)(pe.a,{md:6,children:Object(ee.jsxs)(de.a,{children:[Object(ee.jsx)(de.a.Prepend,{className:"inputPrep",children:Object(ee.jsx)(de.a.Text,{id:"basic-addon1",children:Object(ee.jsx)(V.o,{})})}),Object(ee.jsx)(je.a,{type:"text",placeholder:"First Name...","aria-label":"FirstName","aria-describedby":"basic-addon1",required:!0,value:i,onChange:function(e){return o(e.target.value)}})]})}),Object(ee.jsx)(pe.a,{md:6,children:Object(ee.jsxs)(de.a,{children:[Object(ee.jsx)(de.a.Prepend,{className:"inputPrep",children:Object(ee.jsx)(de.a.Text,{id:"basic-addon1",children:Object(ee.jsx)(V.o,{})})}),Object(ee.jsx)(je.a,{type:"text",placeholder:"Last Name...","aria-label":"LastName","aria-describedby":"basic-addon1",required:!0,value:u,onChange:function(e){return b(e.target.value)}})]})})]}),Object(ee.jsxs)(he.a,{className:"loginInput",children:[Object(ee.jsx)(pe.a,{md:6,children:Object(ee.jsxs)(de.a,{children:[Object(ee.jsx)(de.a.Prepend,{className:"inputPrep",children:Object(ee.jsx)(de.a.Text,{id:"basic-addon1",children:Object(ee.jsx)(V.q,{})})}),Object(ee.jsx)(je.a,{type:"number",placeholder:"Age...","aria-label":"Age","aria-describedby":"basic-addon1",required:!0,autoComplete:"off",value:g,onChange:function(e){return f(e.target.value)}})]})}),Object(ee.jsx)(pe.a,{md:6,children:Object(ee.jsxs)(de.a,{children:[Object(ee.jsx)(de.a.Prepend,{className:"inputPrep",children:Object(ee.jsx)(de.a.Text,{id:"basic-addon1",children:Object(ee.jsx)(xe.a,{})})}),Object(ee.jsxs)(le.a.Control,{as:"select",value:y,onChange:function(e){return E(e.target.value)},children:[Object(ee.jsx)("option",{value:"sex",defaultValue:!0,children:"Sex"}),Object(ee.jsx)("option",{value:"male",children:"Male"}),Object(ee.jsx)("option",{value:"female",children:"Female"})]})]})})]}),Object(ee.jsxs)(de.a,{className:"loginInput ixap",children:[Object(ee.jsx)(de.a.Prepend,{className:"inputPrep",children:Object(ee.jsx)(de.a.Text,{id:"basic-addon1",children:Object(ee.jsx)(V.i,{})})}),Object(ee.jsx)(je.a,{type:"text",placeholder:"Phone Number..","aria-label":"Number",autoComplete:"off","aria-describedby":"basic-addon1",required:!0,value:C,onChange:function(e){return R(e.target.value)}})]}),Object(ee.jsxs)(de.a,{className:"loginInput ixap",children:[Object(ee.jsx)(de.a.Prepend,{className:"inputPrep",children:Object(ee.jsx)(de.a.Text,{id:"basic-addon1",children:Object(ee.jsx)(V.a,{})})}),Object(ee.jsx)(je.a,{type:"text",placeholder:"Email...","aria-label":"Email",autoComplete:"off","aria-describedby":"basic-addon1",required:!0,value:k,onChange:function(e){return P(e.target.value)}})]}),Object(ee.jsxs)(de.a,{className:"mb-1 loginInputPass",children:[Object(ee.jsx)(de.a.Prepend,{className:"inputPrep",children:Object(ee.jsx)(de.a.Text,{id:"basic-addon1",children:Object(ee.jsx)(V.g,{})})}),Object(ee.jsx)(je.a,{autoComplete:"off",type:"password",placeholder:"Password...","aria-label":"Password","aria-describedby":"basic-addon1",required:!0,value:_,onChange:function(e){return U(e.target.value)}})]}),Object(ee.jsxs)(de.a,{className:"mb-1 loginInputPass",children:[Object(ee.jsx)(de.a.Prepend,{className:"inputPrep",children:Object(ee.jsx)(de.a.Text,{id:"basic-addon1",children:Object(ee.jsx)(V.g,{})})}),Object(ee.jsx)(je.a,{autoComplete:"off",type:"password",placeholder:"Confirm Password...","aria-label":"CPassword","aria-describedby":"basic-addon1",required:!0,value:G,onChange:function(e){return F(e.target.value)}})]}),Object(ee.jsx)("div",{className:"loginBtnContainer",children:Object(ee.jsx)(ue.a,{type:"submit",className:"font-weight-bold loginBtn btn-block",rounded:"true",children:"Submit"})}),Object(ee.jsxs)("h6",{className:"mt-4 text-center font-weight-bold loginText",children:["Already have an Account?"," ",Object(ee.jsx)(J.b,{to:"/",className:"ml-2",children:"Login"})]})]})})]})},Ne=function(e){var t=e.history,a=e.match.params.id,s=Object(r.b)(),c=Object(n.useState)(""),i=Object(ne.a)(c,2),o=i[0],l=i[1],d=Object(n.useState)(""),j=Object(ne.a)(d,2),u=j[0],b=j[1],h=Object(n.useState)(""),p=Object(ne.a)(h,2),x=p[0],O=p[1],m=Object(n.useState)(""),g=Object(ne.a)(m,2),f=g[0],v=g[1],N=Object(n.useState)(""),y=Object(ne.a)(N,2),E=y[0],R=y[1],I=Object(r.c)((function(e){return e.UserLoginReducer})).userDetails;return Object(n.useEffect)((function(){var e;s((e=a,function(){var t=Object(X.a)(z.a.mark((function t(a,n){var s,c,r,i;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:S}),s="https://customer-care-platform.herokuapp.com/users/".concat(e),c=n().UserLoginReducer.userDetails,t.next=6,fetch(s,{method:"GET",headers:{"Content-type":"application/json","x-auth-token":"".concat(c.token)}});case 6:return r=t.sent,t.next=9,r.json();case 9:if(i=t.sent,r.ok){t.next=12;break}throw new Error(i.message?i.message:"Unable to fetch data!");case 12:a({type:w,payload:i}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),a({type:C,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e,a){return t.apply(this,arguments)}}())),I||t.push("/")}),[s,t,I]),Object(ee.jsx)(te,{children:Object(ee.jsx)("div",{className:"changePassRow",children:Object(ee.jsxs)(le.a,{className:"loginForm",autoComplete:"off",onSubmit:function(e){e.preventDefault()},children:[Object(ee.jsx)("h3",{className:"text-center font-weight-bold loginText",children:"EDIT USER"}),Object(ee.jsx)(re,{variant:"danger",children:Object(ee.jsx)("b",{children:"Can't fetch user details due to Api error!"})}),Object(ee.jsxs)(de.a,{className:"loginInput ixap",children:[Object(ee.jsx)(de.a.Prepend,{className:"inputPrep",children:Object(ee.jsx)(de.a.Text,{id:"basic-addon1",children:Object(ee.jsx)(V.o,{})})}),Object(ee.jsx)(je.a,{type:"text",placeholder:"Full Name..","aria-label":"name",autoComplete:"off","aria-describedby":"basic-addon1",required:!0,value:o,onChange:function(e){return l(e.target.value)}})]}),Object(ee.jsxs)(he.a,{className:"loginInput",children:[Object(ee.jsx)(pe.a,{md:6,children:Object(ee.jsxs)(de.a,{children:[Object(ee.jsx)(de.a.Prepend,{className:"inputPrep",children:Object(ee.jsx)(de.a.Text,{id:"basic-addon1",children:Object(ee.jsx)(V.q,{})})}),Object(ee.jsx)(je.a,{type:"number",placeholder:"Age...","aria-label":"Age","aria-describedby":"basic-addon1",required:!0,autoComplete:"off",value:u,onChange:function(e){return b(e.target.value)}})]})}),Object(ee.jsx)(pe.a,{md:6,children:Object(ee.jsxs)(de.a,{children:[Object(ee.jsx)(de.a.Prepend,{className:"inputPrep",children:Object(ee.jsx)(de.a.Text,{id:"basic-addon1",children:Object(ee.jsx)(xe.a,{})})}),Object(ee.jsxs)(le.a.Control,{as:"select",value:x,onChange:function(e){return O(e.target.value)},children:[Object(ee.jsx)("option",{value:"sex",defaultValue:!0,children:"Sex"}),Object(ee.jsx)("option",{value:"male",children:"Male"}),Object(ee.jsx)("option",{value:"female",children:"Female"})]})]})})]}),Object(ee.jsxs)(de.a,{className:"loginInput ixap",children:[Object(ee.jsx)(de.a.Prepend,{className:"inputPrep",children:Object(ee.jsx)(de.a.Text,{id:"basic-addon1",children:Object(ee.jsx)(V.i,{})})}),Object(ee.jsx)(je.a,{type:"text",placeholder:"Phone Number..","aria-label":"Number",autoComplete:"off","aria-describedby":"basic-addon1",required:!0,value:f,onChange:function(e){return v(e.target.value)}})]}),Object(ee.jsxs)(de.a,{className:"loginInput ixap",children:[Object(ee.jsx)(de.a.Prepend,{className:"inputPrep",children:Object(ee.jsx)(de.a.Text,{id:"basic-addon1",children:Object(ee.jsx)(V.a,{})})}),Object(ee.jsx)(je.a,{type:"text",placeholder:"Email...","aria-label":"Email",autoComplete:"off","aria-describedby":"basic-addon1",required:!0,value:E,onChange:function(e){return R(e.target.value)}})]}),Object(ee.jsx)("div",{className:"loginBtnContainer",children:Object(ee.jsx)(ue.a,{type:"submit",className:"font-weight-bold loginBtn btn-block",rounded:"true",children:"Submit"})})]})})})};var ye=function(){return Object(ee.jsx)(J.a,{children:Object(ee.jsxs)("div",{children:[Object(ee.jsx)(Q.a,{path:"/",component:fe,exact:!0}),Object(ee.jsx)(Q.a,{path:"/register",component:ve,exact:!0}),Object(ee.jsx)(Q.a,{path:"/admin",component:ae,exact:!0}),Object(ee.jsx)(Q.a,{path:"/admin/user/edit_user/:id",component:Ne,exact:!0}),Object(ee.jsx)(Q.a,{path:"/admin/delete",component:be,exact:!0}),Object(ee.jsx)(Q.a,{path:"/admin/profiles",component:ge,exact:!0}),Object(ee.jsx)(Q.a,{path:"/admin/new/sign_up",component:Oe,exact:!0})]})})},Ee=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,66)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))};c.a.render(Object(ee.jsx)(r.a,{store:B,children:Object(ee.jsx)(ye,{})}),document.getElementById("root")),Ee()}},[[57,1,2]]]);
//# sourceMappingURL=main.90e847d4.chunk.js.map